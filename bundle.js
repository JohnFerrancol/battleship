(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var d=e[s],l=r.base?d[0]+r.base:d[0],c=o[l]||0,h="".concat(l," ").concat(c);o[l]=c+1;var m=n(h),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var u=a(p,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:u,references:1})}i.push(h)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var d=r(e,a),l=0;l<o.length;l++){var c=n(o[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=d}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},194:(e,t,n)=>{e.exports=n.p+"7b195b1c84d06e64d5c5.woff2"},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},608:(e,t,n)=>{e.exports=n.p+"4f15da241d7d0ba7fa2f.woff"},629:(e,t,n)=>{e.exports=n.p+"ab1bdd4ae940a5869f2b.woff2"},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},845:(e,t,n)=>{e.exports=n.p+"1584e18c3b784d88f453.woff"},919:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(601),a=n.n(r),o=n(314),i=n.n(o),s=n(417),d=n.n(s),l=new URL(n(629),n.b),c=new URL(n(845),n.b),h=new URL(n(194),n.b),m=new URL(n(608),n.b),p=i()(a()),u=d()(l),g=d()(c),f=d()(h),b=d()(m);p.push([e.id,`@font-face {\n  font-family: 'Poppins';\n  src:\n    url(${u}) format('woff2'),\n    url(${g}) format('woff');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'Poppins-Bold';\n  src:\n    url(${f}) format('woff2'),\n    url(${b}) format('woff');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@media screen and (max-width: 2560px) {\n  html {\n    font-size: 16px;\n  }\n}\n\n@media screen and (max-width: 1920px) {\n  html {\n    font-size: 11px;\n  }\n}\n\n:root {\n  --font-regular: 'Poppins';\n  --font-bold: 'Poppins-Bold';\n  --light-grey: #f0f0f0;\n  --black: #202020;\n  --white: #ffffff;\n  --dark-navy: #2c3e50;\n  --red: #ff3333;\n  --content-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  --dialog-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.16);\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: var(--font-regular);\n  background-color: var(--light-grey);\n  color: var(--text-primary-color);\n}\n\nbutton,\nmain .grid-item,\n.close-dialog-icon {\n  cursor: pointer;\n}\n\nheader.game-header {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n}\n\nheader .game-title {\n  font-family: var(--font-bold);\n  font-size: 2rem;\n}\n\nheader .game-status {\n  width: 40%;\n  background-color: var(--white);\n  font-size: 1.5rem;\n  padding: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1rem;\n  box-shadow: var(--content-box-shadow);\n}\n\nmain .player-title {\n  font-family: var(--font-bold);\n}\n\nmain.game-container {\n  display: flex;\n  flex-direction: column;\n  gap: 2.5rem;\n}\n\nmain .board-container {\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(2, 25vw);\n  grid-template-rows: 25vw 6vw;\n  padding: 1rem 15vw;\n  align-items: center;\n  justify-content: center;\n  row-gap: 2.5rem;\n  column-gap: 15rem;\n}\n\nmain .game-board {\n  width: 25vw;\n  height: 25vw;\n  display: flex;\n  flex-wrap: wrap;\n}\n\nmain .grid-item {\n  background-color: var(--white);\n  border: 1px solid var(--black);\n  background-color: var(--white);\n  border-radius: 0.25rem;\n  position: relative;\n}\n\nmain #computer-board .grid-item:hover {\n  background-color: var(--light-grey);\n}\n\nmain .grid-item-ship {\n  background-color: var(--dark-navy);\n}\n\nmain .line {\n  position: absolute;\n  width: 2px;\n  height: 100%;\n  transform-origin: center;\n  top: 0;\n  left: 50%;\n  display: flex;\n}\n\nmain #line1 {\n  transform: rotate(45deg);\n}\n\nmain #line2 {\n  transform: rotate(-45deg);\n}\n\nmain .success {\n  background-color: var(--red);\n}\n\nmain .miss {\n  background-color: var(--black);\n}\n\nmain .invalid-click {\n  animation: shake 0.3s;\n  border: 2px solid var(--red);\n}\n\n@keyframes shake {\n  0% {\n    transform: translate(1px, 1px);\n  }\n  25% {\n    transform: translate(-1px, -2px);\n  }\n  50% {\n    transform: translate(-3px, 0px);\n  }\n  75% {\n    transform: translate(3px, 2px);\n  }\n  100% {\n    transform: translate(1px, -1px);\n  }\n}\n\nmain .ships-status-container {\n  display: flex;\n  padding-top: 1rem;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\nmain .ship-wrapper {\n  display: flex;\n  gap: 1rem;\n}\n\nmain .ship-status-element {\n  display: flex;\n}\n\nmain .sunk {\n  background-color: var(--red);\n}\n\nmain .button-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 2.5rem;\n}\n\nmain .game-buttons {\n  background-color: var(--dark-navy);\n  color: var(--white);\n  font-size: 1.25rem;\n  font-family: inherit;\n  border: none;\n  border-radius: 0.5rem;\n  padding: 1rem;\n}\n\ndialog {\n  margin: auto;\n  width: 15%;\n  font-family: inherit;\n  background-color: var(--light-grey);\n  color: inherit;\n  border: none;\n  box-shadow: var(--dialog-box-shadow);\n  font-size: 1.5rem;\n  padding: 1rem;\n  border-radius: 0.5rem;\n}\n\ndialog.change-ships-dialog {\n  width: 30%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\ndialog .close-dialog-container {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n}\n\ndialog .close-dialog-icon {\n  width: 3rem;\n  height: auto;\n  cursor: pointer;\n}\n\ndialog .dialog-message {\n  text-align: center;\n  font-family: var(--font-bold);\n}\n\ndialog .dialog-title {\n  font-family: var(--font-bold);\n  text-align: center;\n}\n\ndialog .button-container {\n  margin-top: 1.25rem;\n  display: flex;\n  justify-content: center;\n  gap: 2rem;\n}\n\ndialog button {\n  background-color: var(--black);\n  font-size: 1.25rem;\n  color: var(--white);\n  border: none;\n  padding: 0.75rem;\n  border-radius: 0.5rem;\n}\n\ndialog .game-board {\n  width: 500px;\n  height: 500px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\ndialog .grid-item {\n  background-color: var(--white);\n  border: 1px solid var(--black);\n  background-color: var(--white);\n  border-radius: 0.25rem;\n  position: relative;\n}\n\ndialog .grid-item-ship {\n  background-color: var(--dark-navy);\n}\n\ndialog .ships-container {\n  padding: 0.5rem;\n  display: flex;\n  gap: 1rem;\n}\n\ndialog .dialog-ship-element {\n  display: flex;\n  position: absolute;\n  z-index: 10;\n}\n`,""]);const y=p}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),a=n.n(r),o=n(825),i=n.n(o),s=n(659),d=n.n(s),l=n(56),c=n.n(l),h=n(540),m=n.n(h),p=n(113),u=n.n(p),g=n(919),f={};f.styleTagTransform=u(),f.setAttributes=c(),f.insert=d().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=m(),a()(g.A,f),g.A&&g.A.locals&&g.A.locals;const b=n.p+"97d4c0a10ac97607dc65.svg",y=()=>{document.querySelectorAll(".game-board").forEach((e=>{e.querySelectorAll(".grid-item").forEach((e=>{e.className="grid-item",e.remove()}));const t=e.clientWidth/10;for(let n=0;n<10;n++)for(let r=0;r<10;r++){const a=document.createElement("div");a.style.width=`${t}px`,a.style.height=`${t}px`,a.classList.add("grid-item"),a.dataset.coordinate=`${n}, ${r}`,e.appendChild(a)}}))},v=(e,t)=>{const n=document.querySelector(`#${e}`);n.querySelectorAll(".grid-item").forEach((e=>{e.classList.contains("grid-item-ship")&&(e.classList.remove("grid-item-ship"),e.innerHTML="")}));for(let r=0;r<t.length;r++)for(let a=0;a<t.length;a++)if(null!==t[r][a]){const o=n.querySelector(`[data-coordinate="${r}, ${a}"`),i=t[r][a];if(i.coords[0]===r&&i.coords[1]===a&&"player-mockup-board"===e){const e=document.createElement("div");e.classList.add("dialog-ship-element"),e.dataset.shipName=i.name,e.setAttribute("draggable","true"),o.appendChild(e),e.style.flexDirection=i.isHorizontal?"row":"column";for(let t=0;t<i.length;t++){const n=document.createElement("div");n.style.width="50px",n.style.height="50px",n.classList.add("grid-item","grid-item-ship"),n.dataset.shipIndex=t,e.appendChild(n)}}o.classList.add("grid-item-ship"),o.id=i.name}},x=e=>{document.querySelector(".game-status").textContent=e},w=(e,t)=>{t&&e.classList.remove("grid-item-ship");const n=document.createElement("div");n.id="line1",n.classList.add("line",t?"success":"miss");const r=document.createElement("div");r.id="line2",r.classList.add("line",t?"success":"miss"),e.appendChild(n),e.appendChild(r)},S=(e,t)=>{const n=document.querySelector(`#${t}-ships-status`);console.log(n);const r=n.querySelector(`[data-ship-name="${e}"]`);console.log(r),r.querySelectorAll(".grid-item").forEach((e=>e.classList.add("sunk")))};class k{constructor(e,t){if(t<=0)throw new Error("Ship length must be positive");this.name=e,this.length=t,this.hitCount=0,this.coords=null,this.isHorizontal=null,this.isPlaced=!1}hit(){this.hitCount<this.length&&this.hitCount++}isSunk(){return this.length===this.hitCount}setAttributes(e,t){this.coords=e,this.isHorizontal=t,this.isPlaced=!0}}class E{constructor(){this.size=10,this.board=Array.from({length:10},(()=>Array(10).fill(null))),this.ships={carrier:new k("carrier",5),battleship:new k("battleship",4),cruiser:new k("cruiser",3),submarine:new k("submarine",3),destroyer:new k("destroyer",2)},this.missedAttacks=new Set([]),this.successfulAttacks=new Set([]),this.targetQueue=[],this.hitStreak=[],this.inferredOrientation=null}isValidPlaceForShip(e,t,n){const[r,a]=t;for(let t=0;t<e;t++){const e=n?a:a+t,o=n?r+t:r;if(e<0||e>=this.size||o<0||o>=this.size)return!1;if(null!==this.board[e][o])return!1}return!0}placeShip(e,t,n){const[r,a]=t;if(!this.isValidPlaceForShip(e.length,t,n))throw new Error("Invalid Ship Placement");for(let t=0;t<e.length;t++){const o=n?a:a+t,i=n?r+t:r;this.board[o][i]=e}e.setAttributes([a,r],n)}removeShip(e){for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++)this.board[t][n]===e&&(this.board[t][n]=null)}randomlyPlaceShips(){for(const e in this.ships){const t=this.ships[e];let n=!1;for(;!n;){const e=Math.random()<.5,r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),o=[r,a];this.isValidPlaceForShip(t.length,o,e)&&(this.placeShip(t,[r,a],e),n=!0)}}}reorderShips(){this.board=Array.from({length:this.size},(()=>Array(this.size).fill(null))),this.randomlyPlaceShips()}receiveAttack(e){const[t,n]=e;if(t<0||t>=this.size||n<0||n>=this.size)throw new Error("Invalid coordinate");const r=`${t},${n}`;if(this.missedAttacks.has(r)||this.successfulAttacks.has(r))throw new Error("Cell already attacked!");{const a=this.board[t][n];null!==a?a.isSunk()?(this.hitStreak=[],this.inferredDirection=null,this.targetQueue=[]):(a.hit(),this.successfulAttacks.add(r),this.hitStreak.push(e),this.inferOrientation(),this.addTargets(e)):this.missedAttacks.add(r)}}inferOrientation(){if(this.hitStreak.length>=2){const[e,t]=this.hitStreak[0],[n,r]=this.hitStreak[1];0===Math.abs(n-e)?this.inferredOrientation="horizontal":0===Math.abs(r-t)&&(this.inferredOrientation="vertical")}}addTargets(e){const[t,n]=e;let r;r="horizontal"===this.inferredOrientation?[[0,1],[0,-1]]:"vertical"===this.inferredOrientation?[[1,0],[-1,0]]:[[1,0],[0,1],[-1,0],[0,-1]];for(const[e,a]of r){const r=t+e,o=n+a,i=`${r},${o}`;r>=0&&r<this.size&&o>=0&&o<this.size&&!this.missedAttacks.has(i)&&!this.successfulAttacks.has(i)&&!this.targetQueue.some((e=>{let[t,n]=e;return t===r&&n===o}))&&this.targetQueue.push([r,o])}}hasAllShipsSunk(){for(const e in this.ships)if(!this.ships[e].isSunk())return!1;return!0}}class L{constructor(){this.gameboard=new E}placeShipsRandomly(){this.gameboard.randomlyPlaceShips()}reorderShips(){this.gameboard.reorderShips()}attack(e,t){e.receiveAttack(t)}hasLost(){return this.gameboard.hasAllShipsSunk()}}class C extends L{constructor(){super(),this.targetQueue=[]}getRandomCoords(){return[Math.floor(Math.random()*this.gameboard.size),Math.floor(Math.random()*this.gameboard.size)]}makeRandomAttack(e){for(;;){const t=this.getRandomCoords();try{return this.attack(e,t),t}catch(e){if("Cell already attacked!"!==e.message)throw e}}}huntTarget(e){if(0===e.targetQueue.length)return this.makeRandomAttack(e);{const t=e.targetQueue.shift();return this.attack(e,t),t}}}const A=(()=>{let e,t,n,r=!1;return{startGame:(a,o)=>{r?T("Game is currently ongoing! Reset the Game first!","alert"):(e=a,t=o,n=!0,r=!0,x("Player's Turn"))},playTurn:(a,o)=>{if(n&&r){e.attack(t.gameboard,a),w(o,o.classList.contains("grid-item-ship"));for(const e in t.gameboard.ships)t.gameboard.ships[e].isSunk()&&S(e,"computer");t.gameboard.hasAllShipsSunk()?(x("Player has won! Reset to Play Again!"),document.querySelectorAll(".grid-item").forEach((e=>e.style.pointerEvents="none"))):(n=!1,x("Computer's Turn"),setTimeout((()=>{const r=t.huntTarget(e.gameboard),a=document.querySelector("#player-board").querySelector(`[data-coordinate="${r[0]}, ${r[1]}"`);w(a,a.classList.contains("grid-item-ship"));for(const t in e.gameboard.ships)e.gameboard.ships[t].isSunk()&&S(t,"player");e.gameboard.hasAllShipsSunk()?(x("Computer has won! Reset to Play Again!"),document.querySelectorAll(".grid-item").forEach((e=>e.style.pointerEvents="none"))):(n=!0,x("Player's Turn"))}),500))}},changePlayerBoard:(e,t)=>{r?T("Game is currently ongoing! You cannot change ship positions!","alert"):(q(e),document.querySelector(".change-ships-dialog").addEventListener("close",(()=>{v("player-board",e.gameboard.board),v("computer-board",t.gameboard.board)})))},resetGame:()=>{r?T("Are you sure you want to restart the game?","confirm"):T("Game is has not started!","alert")}}})(),T=(e,t)=>{const n=document.querySelector("dialog");n.innerHTML="",((e,t)=>{const n=document.querySelector("dialog");n.classList.add(t);const r=document.createElement("div");r.classList.add("close-dialog-container");const a=document.createElement("img");a.classList.add("close-dialog-icon"),a.src=b,a.alt="Close Dialog",r.appendChild(a),n.appendChild(r);const o=document.createElement("p");o.textContent=e,o.classList.add("dialog-message"),n.appendChild(o);const i=document.createElement("div");i.classList.add("button-container"),n.appendChild(i);const s=document.createElement("button");if(s.classList.add("alert"===t?"close-button":"reset-button"),s.textContent="OK",i.appendChild(s),"confirm"===t){const e=document.createElement("button");e.classList.add("close-button"),e.textContent="Cancel",i.appendChild(e)}})(e,t),n.showModal(),z(n),"confirm"===t&&document.querySelector(".reset-button").addEventListener("click",(()=>{window.location.reload()}))},q=e=>{const t=document.querySelector("dialog");t.innerHTML="",(e=>{const t=document.querySelector("dialog");t.classList.add("change-ships-dialog");const n=document.createElement("div");n.classList.add("close-dialog-container");const r=document.createElement("img");r.classList.add("close-dialog-icon"),r.src=b,r.alt="Close Dialog",n.appendChild(r),t.appendChild(n);const a=document.createElement("h3");a.textContent="Change Ships",a.classList.add("dialog-title"),t.appendChild(a);const o=document.createElement("div");o.classList.add("game-board"),o.id="player-mockup-board",t.appendChild(o),setTimeout((()=>{y(),v("player-mockup-board",e.gameboard.board)}),0);const i=document.createElement("div");i.classList.add("ships-container","vertical"),t.appendChild(i);const s=document.createElement("div");s.classList.add("button-container"),t.appendChild(s);const d=document.createElement("button");d.classList.add("close-button"),d.textContent="Done",s.appendChild(d);const l=document.createElement("button");l.classList.add("reorder-button"),l.textContent="Randomly Place Ships",s.appendChild(l)})(e),t.showModal(),z(t),setTimeout((()=>{document.querySelector(".reorder-button").addEventListener("click",(()=>{e.reorderShips(),v("player-mockup-board",e.gameboard.board),q(e)})),document.querySelectorAll(".dialog-ship-element").forEach((e=>{e.querySelectorAll(".grid-item").forEach((t=>{t.addEventListener("pointerdown",(()=>{const n=t.dataset.shipIndex;e.dataset.grabbedIndex=n}))})),e.addEventListener("dragstart",(t=>{e.style.cursor="grabbing",t.dataTransfer.setData("shipName",t.target.dataset.shipName),t.dataTransfer.setData("grabbedIndex",t.target.dataset.grabbedIndex)}))})),document.querySelectorAll("#player-mockup-board > .grid-item").forEach((t=>{t.addEventListener("dragover",(e=>{e.preventDefault()})),t.addEventListener("drop",(n=>{n.preventDefault();const r=n.dataTransfer.getData("shipName"),a=parseInt(n.dataTransfer.getData("grabbedIndex"));let o;const i=e.gameboard.ships;for(const e in i)if(i[e].name===r){o=i[e];break}const s=t.dataset.coordinate,[d,l]=s.split(",").map((e=>Number(e))),[c,h]=o.isHorizontal?[d,l-a]:[d-a,l];if(o)try{if(!e.gameboard.isValidPlaceForShip(o.length,[h,c],o.isHorizontal))return void alert("Invalid Ship Placement");e.gameboard.removeShip(o),e.gameboard.placeShip(o,[h,c],o.isHorizontal),v("player-mockup-board",e.gameboard.board),q(e)}catch(e){alert(e.message,"alert")}else console.error("Ship not found:",r)}))}))}),0)},z=e=>{document.querySelectorAll(".close-dialog-icon, .close-button").forEach((t=>{t.addEventListener("click",(()=>{e.close(),e.className=""}))}))};document.querySelector("#reset-game").addEventListener("click",(()=>{A.resetGame()})),document.querySelector("#computer-board").addEventListener("click",(e=>{const t=e.target;try{const e=t.dataset.coordinate.split(",").map((e=>Number(e)));t.style.pointEvents="none",A.playTurn(e,t)}catch(e){"Cell already attacked!"===e.message&&(x("You have already attacked this grid! Try Again"),t.classList.add("invalid-click"),setTimeout((()=>{x("Player's Turn"),t.classList.remove("invalid-click")}),500))}})),function(){y();const e=new L,t=new C;e.placeShipsRandomly(),t.placeShipsRandomly(),v("player-board",e.gameboard.board),v("computer-board",t.gameboard.board),((e,t)=>{document.querySelector("#start-game").addEventListener("click",(()=>{A.startGame(e,t)}))})(e,t),((e,t)=>{document.querySelector("#new-board").addEventListener("click",(()=>{A.changePlayerBoard(e,t)}))})(e,t),document.querySelectorAll(".ships-status-container").forEach((e=>{const t=[{shipName:"carrier",length:5},{shipName:"battleship",length:4},{shipName:"cruiser",length:3},{shipName:"submarine",length:3},{shipName:"destroyer",length:2}];for(let n of t){const t=document.createElement("div");t.classList.add("ship-wrapper"),e.appendChild(t);const r=document.createElement("p");r.classList.add("ship-name"),r.textContent=n.shipName,t.appendChild(r);const a=document.createElement("div");a.classList.add("ship-status-element"),a.dataset.shipName=n.shipName,t.appendChild(a);for(let e=0;e<n.length;e++){const e=document.createElement("div");e.style.width="20px",e.style.height="20px",e.classList.add("grid-item","grid-item-ship"),a.appendChild(e)}}}))}()})();